<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test Donate Form</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      body {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 32px;
        height: 100vh;
      }

      input {
        height: 64px;
        width: 24vw;
      }

      textarea {
        height: 256px;
        width: 24vw;
      }
      button {
        height: 32px;
        width: 5vw;
      }
    </style>
  </head>
  <body>
    <form>
      <label for="DonateName">Tên của bạn:</label><br />
      <input type="text" id="DonateName" name="Name" /><br /><br />

      <label for="DonateMessage">Lời nhắn:</label><br />
      <textarea id="DonateMessage" name="Message"></textarea><br /><br />

      <button type="submit" id="DonateButton">Gửi</button>
    </form>

    <p id="TheTag"></p>
  </body>
  <script>
    const donateButton = document.getElementById("DonateButton");
    const donateNameInput = document.getElementById("DonateName");
    const donateMessageTextarea = document.getElementById("DonateMessage");

    donateButton.addEventListener("click", () => {
      const name = donateNameInput.value;
      const message = donateMessageTextarea.value;

      // Tạo object chứa dữ liệu
      const data = {
        Name: name,
        Message: message,
      };

      // Gửi yêu cầu POST đến Apps Script
      fetch(
        "https://script.google.com/macros/s/AKfycbxMaSr80UK7yGnCvWZtU1VIdyCHFTl3hc4bkQ59OHniUNYjk5tyvnOAEOHvCBedMgM9og/exec",
        {
          method: "POST",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: JSON.stringify(data),
        }
      )
        .then((response) => response.text())
        .then((data) => {
          // Xử lý phản hồi từ Apps Script (nếu cần)
          console.log(data);
        })
        .catch((error) => {
          console.error("Lỗi khi gửi dữ liệu:", error);
        });
    });
  </script>
</html>
